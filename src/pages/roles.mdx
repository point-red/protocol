export const description =
  'On this page, weâ€™ll dive into the different role endpoints you can use to manage roles programmatically.'

# Roles

Master Roles

## The role model

The role model contains all the information about your roles.

### Properties

<Properties>
  <Property name="_id" type="string">
    Unique identifier for the role.
  </Property>
  <Property name="name" type="string">
    The name for the role.
  </Property>
  <Property name="permissions" type="array<string>">
    The array of allowed permission name for the role.
  </Property>
  <Property name="createdBy" type="string">
    User identifier who create role.
  </Property>
  <Property name="createdBy" type="string">
    User identifier who update role.
  </Property>
  <Property name="createdAt" type="timestamp">
    Timestamp of when the role was created.
  </Property>
  <Property name="updatedAt" type="timestamp">
    Timestamp of when the role was updated.
  </Property>
</Properties>

---

## List all roles {{ tag: 'GET', label: '/v1/roles' }}

<Row>
  <Col>

    This endpoint allows you to retrieve a paginated list of all your roles. By default, a maximum of ten roles are shown per page.

    ### Optional attributes

    <Properties>
      <Property name="page" type="integer">
        The page number of roles returned.
      </Property>
      <Property name="pageSize" type="integer">
        The page size number of roles returned.
      </Property>
    </Properties>

  </Col>
  <Col sticky>
    <CodeGroup title="Request" tag="GET" label="/v1/roles">
    ```typescript {{ title: 'axios' }}
    const response = axios.get('/v1/roles', {
      params: {
        filter: {
          page:1,
          pageSize: 10
        }
      }
    })
    ```
    </CodeGroup>
    <CodeGroup title="Response">
    ```json {{ title: '200' }}
    {
      "roles": [
        {
          "_id": "637b569149e0c02e1036c35a",
          "name": "Super Admin",
          "permissions": ["create-user", "read-user-role"],
          "createdBy": "637d83d15d2be122007524bf",
          "createdAt": "2022-01-01T00:00:00.000Z",
        },
        {
          "_id": "637d83d15d2be122007524bf",
          "name": "Manager",
          "permissions": ["create-user", "read-user-role"],
          "createdBy": "637d83d15d2be122007524bf",
          "createdAt": "2022-01-01T00:00:00.000Z",
        },
      ],
      "pagination": {
        "page": 1,
        "pageSize": 1,
        "pageCount": 1,
        "totalDocument": 2
      }
    }
    ```
    </CodeGroup>
  </Col>
</Row>

---

## Create a role {{ tag: 'POST', label: '/v1/roles' }}

<Row>
  <Col>

    This endpoint allows you to add a new role.

    ### Required attributes

    <Properties>
      <Property name="name" type="string">
        The name for the role.
      </Property>
    </Properties>
  </Col>
  <Col sticky>
    <CodeGroup title="Request" tag="POST" label="/v1/roles">
    ```typescript {{ title: 'axios' }}
    const response = axios.post('/v1/roles', {
      name: "Administrator"
    })
    ```
    </CodeGroup>
    <CodeGroup title="Response">
    ```json {{ title: '201' }}
    {
      "id": "637d83d15d2be122007524bf"
    }
    ```
    </CodeGroup>
  </Col>
</Row>

---

## Retrieve a role {{ tag: 'GET', label: '/v1/roles/:id' }}

<Row>
  <Col>
    This endpoint allows you to retrieve a role by providing their id.
  </Col>
  <Col sticky>
    <CodeGroup title="Request" tag="GET" label="/v1/roles/637d83d15d2be122007524bf">
    ```typescript {{ title: 'axios' }}
    const response = axios.get('/v1/roles/637d83d15d2be122007524bf')
    ```
    </CodeGroup>
    <CodeGroup title="Response">
    ```json {{ title: '200' }}
    {
      "_id": "637d83d15d2be122007524bf",
      "name": "Manager",
      "permissions": ["create-user", "read-user-role"],
      "createdBy": "637d83d15d2be122007524bf",
      "createdAt": "2022-01-01T00:00:00.000Z",
    }
    ```
    </CodeGroup>
  </Col>
</Row>

---

## Update a role {{ tag: 'PATCH', label: '/v1/roles/:id' }}

<Row>
  <Col>

    This endpoint allows you to perform an update on a role.

    ### Optional attributes

    <Properties>
      <Property name="name" type="string">
        The name for the role.
      </Property>
    </Properties>

  </Col>
  <Col sticky>
    <CodeGroup title="Request" tag="PATCH" label="/v1/roles/637d83d15d2be122007524bf">
    ```typescript {{ title: 'axios' }}
    const response = axios.patch('/v1/roles/637d83d15d2be122007524bf', {
      name: "Administrator"
    })
    ```
    </CodeGroup>
    <CodeGroup title="Response">
    ```json {{ title: '204' }}
    // empty response
    ```
    </CodeGroup>
  </Col>
</Row>

---

## Delete a role {{ tag: 'DELETE', label: '/v1/roles/:id' }}

<Row>
  <Col>
    This endpoint allows you to delete roles from your role list.
  </Col>
  <Col sticky>
    <CodeGroup title="Request" tag="DELETE" label="/v1/roles/637d83d15d2be122007524bf">
    ```typescript {{ title: 'axios' }}
    const response = axios.delete('/v1/roles/637d83d15d2be122007524bf')
    ```
    </CodeGroup>
    <CodeGroup title="Response">
    ```json {{ title: '204' }}
    // empty response
    ```
    </CodeGroup>
  </Col>
</Row>

---

## Assign permissions {{ tag: 'PATCH', label: '/v1/roles/:id/assign-permissions' }}

<Row>
  <Col>

    This endpoint allows you to perform an update on a role to assign permission.

    ### Optional attributes

    <Properties>
      <Property name="permissions" type="array<string>">
        The array of permission name for the role.
      </Property>
    </Properties>

  </Col>
  <Col sticky>
    <CodeGroup title="Request" tag="PATCH" label="/v1/roles/637d83d15d2be122007524bf">
    ```typescript {{ title: 'axios' }}
    const response = axios.patch('/v1/roles/637d83d15d2be122007524bf', {
      permissions: [
        {
          name: 'create-user',
          assign: true
        },
        {
          name: 'read-user',
          assign: false
        }
      ]
    })
    ```
    </CodeGroup>
    <CodeGroup title="Response">
    ```json {{ title: '204' }}
    // empty response
    ```
    </CodeGroup>
  </Col>
</Row>
